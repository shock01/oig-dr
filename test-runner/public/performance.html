<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Perf Tests</title>
  <style>
  body, html {
    font: 12pt Arial;
  }
  </style>
</head>
<body>
  <h1>Morph to a tiger (has issues when having just two childnode)</h1>
  <h2>tested on Chrome and Firefox and IE 11</h2>
  <p>After 1 sec the tiger starts to render</p>
  <output id="time"></output>
  <svg height="100" width="200" id="svgTiger1">
    <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" />
    <circle cx="20" cy="20" r="40" stroke="black" stroke-width="3" fill="green" />
    <text fill="red" x="80" y="20">Make me a tiger</text>
  </svg>
  <hr/>
  <svg height="100" width="200" id="svgTiger2">
    <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" />
    <circle cx="20" cy="20" r="40" stroke="black" stroke-width="3" fill="green" />
  </svg>
  <!-- lib -->
  <script src="../../lib/dr.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    // get the tiger
    var xhr = new XMLHttpRequest();
    var source;
    xhr.open('GET', 'fixtures/tiger.svg', true);
    xhr.onload = function() {
      var renderer = new OIGDomRenderer();
      source = xhr.responseXML.documentElement;
      // render tigers
      setTimeout(function () {
        var start = window.performance.now();
        renderer.render(source, document.getElementById('svgTiger1'));
        var end = window.performance.now();
        var text = 'rendering took: ' + (end - start).toFixed(4) + 'milliseconds';
        document.getElementById('time').textContent = text;
        renderer.render(source, document.getElementById('svgTiger2'));
      }, 1000);
    }
    xhr.send();
    // worldmap
  }, false)
  </script>
</body>
</html>
